(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{aai1:function(l,e,n){"use strict";n.r(e);var t=n("CcnG"),a=n("1BeU").adapterFactory,u=function(){return function(){}}(),i=n("pMnS"),c=n("Qm6G"),s=n("SN/6"),o=n("Ip0R"),d=n("NAv5"),r=n("K9Ia"),v=n("BUu/"),w=n("Z8vF"),h=n("PiIy"),p=n("zCBn"),f=n("7noz"),D=function(){function l(l,e,n,t){this.projectService=l,this.taskService=e,this.holidayService=n,this.MeetingService=t,this.isCalendarLoaded=!1,this.view=s.j.Month,this.CalendarView=s.j,this.viewDate=new Date,this.refresh=new r.a,this.events=this.AllCalendarEvents,this.activeDayIsOpen=!0}return l.prototype.ngOnInit=function(){this.getProjects()},l.prototype.dayClicked=function(l){var e=l.date,n=l.events;Object(d.isSameMonth)(e,this.viewDate)&&(this.activeDayIsOpen=!(Object(d.isSameDay)(this.viewDate,e)&&!0===this.activeDayIsOpen||0===n.length),this.viewDate=e)},l.prototype.addEvent=function(l){this.events=l,this.isCalendarLoaded=!0,this.refreshView()},l.prototype.refreshView=function(){this.refresh.next()},l.prototype.setView=function(l){this.view=l},l.prototype.closeOpenMonthViewDay=function(){this.activeDayIsOpen=!1},l.prototype.getProjects=function(){var l=this;this.projectService.getAll().subscribe(function(e){l.projects=e,l.getTasks()})},l.prototype.getTasks=function(){var l=this;this.taskService.getCalendarTasks().subscribe(function(e){l.tasks=e,l.getMeetings()})},l.prototype.getMeetings=function(){var l=this;this.MeetingService.getAll().subscribe(function(e){l.meetings=e,l.getHolidays()})},l.prototype.getHolidays=function(){var l=this;this.holidayService.yearAllHolidays((new Date).getFullYear()).subscribe(function(e){l.holidays=e,l.setCalendarData()})},l.prototype.setCalendarData=function(){var l=[];this.projects&&this.projects.forEach(function(e){l.push({start:Object(d.subDays)(Object(d.startOfDay)(new Date(e.start_date)),0),end:Object(d.addDays)(new Date(e.end_date),0),title:e.project_name,color:f.b.red,allDay:!0})}),this.tasks&&this.tasks.forEach(function(e){5==e.status&&6==e.status||l.push({start:Object(d.subDays)(Object(d.startOfDay)(new Date(e.task_start_date)),0),end:Object(d.addDays)(new Date(e.task_end_date),0),title:e.name,color:f.b.blue,allDay:!0})}),this.meetings&&this.meetings.forEach(function(e){l.push({start:Object(d.subDays)(Object(d.startOfDay)(new Date(e.start_date)),0),end:Object(d.addDays)(new Date(e.end_date),0),title:e.title,color:f.b.yellow,allDay:!0})}),this.holidays&&this.holidays.forEach(function(e){f.b.green={primary:e.color,secondary:e.color},l.push({start:Object(d.startOfDay)(new Date(e.date)),title:e.event_name,color:f.b.green})}),this.addEvent(l),this.AllCalendarEvents=l},l}(),m=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"mwl-calendar-month-view",[],null,[[null,"dayClicked"]],function(l,e,n){var t=!0;return"dayClicked"===e&&(t=!1!==l.component.dayClicked(n.day)&&t),t},c.e,c.b)),t["\u0275did"](1,770048,null,0,s.h,[t.ChangeDetectorRef,s.i,t.LOCALE_ID,s.m],{viewDate:[0,"viewDate"],events:[1,"events"],activeDayIsOpen:[2,"activeDayIsOpen"],refresh:[3,"refresh"]},{dayClicked:"dayClicked"})],function(l,e){var n=e.component;l(e,1,0,n.viewDate,n.events,n.activeDayIsOpen,n.refresh)},null)}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"mwl-calendar-week-view",[],null,null,null,c.f,c.c)),t["\u0275did"](1,770048,null,0,s.l,[t.ChangeDetectorRef,s.i,t.LOCALE_ID,s.m],{viewDate:[0,"viewDate"],events:[1,"events"],refresh:[2,"refresh"]},null)],function(l,e){var n=e.component;l(e,1,0,n.viewDate,n.events,n.refresh)},null)}function g(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"mwl-calendar-day-view",[],null,null,null,c.d,c.a)),t["\u0275did"](1,770048,null,0,s.d,[t.ChangeDetectorRef,s.i,t.LOCALE_ID,s.m],{viewDate:[0,"viewDate"],events:[1,"events"],refresh:[2,"refresh"]},null)],function(l,e){var n=e.component;l(e,1,0,n.viewDate,n.events,n.refresh)},null)}function b(l){return t["\u0275vid"](2,[t["\u0275pid"](0,s.v,[s.b,t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,41,"section",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,39,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,38,"div",[["class","card pl-2 pr-2 pb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","card-header pl-0 pr-0 border-bottom"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"h4",[["class","card-title mb-0 mt-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Calendar"])),(l()(),t["\u0275eld"](8,0,null,null,34,"div",[["class","card-body pt-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,32,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,22,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","btn calender-day"],["mwlCalendarPreviousView",""]],null,[[null,"viewDateChange"],[null,"click"]],function(l,e,n){var a=!0,u=l.component;return"click"===e&&(a=!1!==t["\u0275nov"](l,14).onClick()&&a),"viewDateChange"===e&&(a=!1!==(u.viewDate=n)&&a),"viewDateChange"===e&&(a=!1!==u.closeOpenMonthViewDay()&&a),a},null,null)),t["\u0275did"](14,16384,null,0,s.s,[s.m],{view:[0,"view"],viewDate:[1,"viewDate"]},{viewDateChange:"viewDateChange"}),(l()(),t["\u0275eld"](15,0,null,null,0,"i",[["class","calendar-icon fa fa-chevron-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,2,"div",[["class","btn calender-today"],["mwlCalendarToday",""]],null,[[null,"viewDateChange"],[null,"click"]],function(l,e,n){var a=!0,u=l.component;return"click"===e&&(a=!1!==t["\u0275nov"](l,17).onClick()&&a),"viewDateChange"===e&&(a=!1!==(u.viewDate=n)&&a),a},null,null)),t["\u0275did"](17,16384,null,0,s.u,[s.m],{viewDate:[0,"viewDate"]},{viewDateChange:"viewDateChange"}),(l()(),t["\u0275ted"](-1,null,["Today"])),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","btn calender-day"],["mwlCalendarNextView",""]],null,[[null,"viewDateChange"],[null,"click"]],function(l,e,n){var a=!0,u=l.component;return"click"===e&&(a=!1!==t["\u0275nov"](l,20).onClick()&&a),"viewDateChange"===e&&(a=!1!==(u.viewDate=n)&&a),"viewDateChange"===e&&(a=!1!==u.closeOpenMonthViewDay()&&a),a},null,null)),t["\u0275did"](20,16384,null,0,s.t,[s.m],{view:[0,"view"],viewDate:[1,"viewDate"]},{viewDateChange:"viewDateChange"}),(l()(),t["\u0275eld"](21,0,null,null,0,"i",[["class","calendar-icon fa fa-chevron-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,3,"div",[["class","col-md-4 mt-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),t["\u0275ted"](24,null,["",""])),t["\u0275ppd"](25,3),(l()(),t["\u0275eld"](26,0,null,null,7,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,6,"div",[["class","btn-view-date"]],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"div",[["class","btn calender-today mb-1"]],[[2,"active",null]],[[null,"click"]],function(l,e,n){var t=!0,a=l.component;return"click"===e&&(t=!1!==a.setView(a.CalendarView.Month)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Month"])),(l()(),t["\u0275eld"](30,0,null,null,1,"div",[["class","btn calender-today mb-1"]],[[2,"active",null]],[[null,"click"]],function(l,e,n){var t=!0,a=l.component;return"click"===e&&(t=!1!==a.setView(a.CalendarView.Week)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Week"])),(l()(),t["\u0275eld"](32,0,null,null,1,"div",[["class","btn calender-today mb-1"]],[[2,"active",null]],[[null,"click"]],function(l,e,n){var t=!0,a=l.component;return"click"===e&&(t=!1!==a.setView(a.CalendarView.Day)&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Day"])),(l()(),t["\u0275eld"](34,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,7,"div",[],null,null,null,null,null)),t["\u0275did"](36,16384,null,0,o.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](38,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](40,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](42,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(l,e){var n=e.component;l(e,14,0,n.view,n.viewDate),l(e,17,0,n.viewDate),l(e,20,0,n.view,n.viewDate),l(e,36,0,n.view),l(e,38,0,n.CalendarView.Month),l(e,40,0,n.CalendarView.Week),l(e,42,0,n.CalendarView.Day)},function(l,e){var n=e.component,a=t["\u0275unv"](e,24,0,l(e,25,0,t["\u0275nov"](e,0),n.viewDate,n.view+"ViewTitle","en"));l(e,24,0,a),l(e,28,0,n.view===n.CalendarView.Month),l(e,30,0,n.view===n.CalendarView.Week),l(e,32,0,n.view===n.CalendarView.Day)})}function k(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-calendar-list",[],null,null,null,b,m)),t["\u0275did"](1,114688,null,0,D,[h.a,p.a,w.a,v.a],null,null)],function(l,e){l(e,1,0)},null)}var O=t["\u0275ccf"]("app-calendar-list",D,k,{},{},[]),S=n("ZYCi"),V=function(){return function(){}}(),_=n("YXNw"),j=n("lf6A");n.d(e,"CalendarPmModuleNgFactory",function(){return M});var M=t["\u0275cmf"](u,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,O,c.g]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,o.NgLocalization,o.NgLocaleLocalization,[t.LOCALE_ID,[2,o["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](5120,s.m,a,[]),t["\u0275mpd"](4608,s.e,s.e,[]),t["\u0275mpd"](4608,s.b,s.b,[s.m]),t["\u0275mpd"](4608,s.i,s.i,[s.m]),t["\u0275mpd"](1073742336,o.CommonModule,o.CommonModule,[]),t["\u0275mpd"](1073742336,S.RouterModule,S.RouterModule,[[2,S["\u0275angular_packages_router_router_a"]],[2,S.Router]]),t["\u0275mpd"](1073742336,V,V,[]),t["\u0275mpd"](1073742336,_.a,_.a,[]),t["\u0275mpd"](1073742336,j.b,j.b,[]),t["\u0275mpd"](1073742336,s.a,s.a,[]),t["\u0275mpd"](1073742336,s.g,s.g,[]),t["\u0275mpd"](1073742336,s.k,s.k,[]),t["\u0275mpd"](1073742336,s.c,s.c,[]),t["\u0275mpd"](1073742336,s.f,s.f,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,S.ROUTES,function(){return[[{path:"",component:D}]]},[])])})}}]);